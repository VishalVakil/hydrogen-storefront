{"version":3,"file":"theme-editor.js","sources":["../../src/js/theme-editor.js"],"sourcesContent":["document.addEventListener('shopify:block:select', (event) => {\n  // Open accordion on Block select\n  const collapsible = event.target.hasAttribute('data-collapsible') ? event.target : null;\n  if (collapsible && !collapsible?.hasAttribute('open')) {\n    collapsible.querySelector('[data-collapsible-trigger]')?.dispatchEvent(new Event('click'));\n  }\n\n  // Select slide on Block select\n  const blockSelectedIsSlide = event.target.hasAttribute('data-slide');\n  if (blockSelectedIsSlide) {\n    const slider = event.target.closest('[data-slider]');\n\n    if (slider) {\n      setTimeout(() => {\n        slider.scrollTo({\n          left: event.target.offsetLeft,\n        });\n      }, 200);\n    }\n  }\n\n  // Pause ticker on block select\n  const ticker = event.target.matches('ticker-bar') ? event.target : event.target.querySelector('ticker-bar') || event.target.closest('ticker-bar');\n  if (ticker) {\n    ticker.setAttribute('paused', '');\n  }\n});\n\ndocument.addEventListener('shopify:block:deselect', (event) => {\n  // Close accordion on Block deselect\n  const collapsible = event.target.hasAttribute('data-collapsible') ? event.target : null;\n  if (collapsible && collapsible.hasAttribute('open')) {\n    collapsible.querySelector('[data-collapsible-trigger]')?.dispatchEvent(new Event('click'));\n  }\n\n  // Resume ticker on block deselect\n  const ticker = event.target.matches('ticker-bar') ? event.target : event.target.querySelector('ticker-bar') || event.target.closest('ticker-bar');\n  if (ticker) {\n    ticker.removeAttribute('paused');\n  }\n});\n\nconst ccThemeRole = Shopify.theme.role ?? 'unknown';\nconst fetchURL = 'https://mantle-mu.vercel.app/api';\n\n(!localStorage.getItem('cc-settings-loaded') || localStorage.getItem('cc-settings-loaded') !== ccThemeRole) &&\n  fetch(fetchURL, {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    method: 'POST',\n    mode: 'cors',\n    body: new URLSearchParams({\n      shop: Shopify.shop,\n      theme: theme.info?.name ?? '',\n      version: theme.version ?? '',\n      role: ccThemeRole,\n      platformPlanName: ccThemeRole,\n      platformId: document.querySelector('script[src*=theme-editor][data-owner-id]')?.dataset.ownerId,\n      contact: document.querySelector('script[src*=theme-editor][data-owner-email]')?.dataset.ownerEmail,\n    }),\n  }).then((response) => {\n    response.ok && localStorage.setItem('cc-settings-loaded', ccThemeRole);\n  });\n"],"names":["document","addEventListener","event","collapsible","target","hasAttribute","querySelector","dispatchEvent","Event","slider","closest","setTimeout","scrollTo","left","offsetLeft","ticker","matches","setAttribute","removeAttribute","ccThemeRole","Shopify","theme","role","localStorage","getItem","fetch","headers","method","mode","body","URLSearchParams","shop","info","name","version","platformPlanName","platformId","dataset","ownerId","contact","ownerEmail","then","response","ok","setItem"],"mappings":"yBAAAA,SAASC,iBAAiB,wBAAyBC,IAEjD,MAAMC,EAAcD,EAAME,OAAOC,aAAa,oBAAsBH,EAAME,OAAS,KAC/ED,IAAgBA,GAAaE,aAAa,SAC5CF,EAAYG,cAAc,+BAA+BC,cAAc,IAAIC,MAAM,UAKnF,GAD6BN,EAAME,OAAOC,aAAa,cAC7B,CACxB,MAAMI,EAASP,EAAME,OAAOM,QAAQ,iBAEhCD,GACFE,YAAW,KACTF,EAAOG,SAAS,CACdC,KAAMX,EAAME,OAAOU,YACnB,GACD,IAEN,CAGD,MAAMC,EAASb,EAAME,OAAOY,QAAQ,cAAgBd,EAAME,OAASF,EAAME,OAAOE,cAAc,eAAiBJ,EAAME,OAAOM,QAAQ,cAChIK,GACFA,EAAOE,aAAa,SAAU,GAC/B,IAGHjB,SAASC,iBAAiB,0BAA2BC,IAEnD,MAAMC,EAAcD,EAAME,OAAOC,aAAa,oBAAsBH,EAAME,OAAS,KAC/ED,GAAeA,EAAYE,aAAa,SAC1CF,EAAYG,cAAc,+BAA+BC,cAAc,IAAIC,MAAM,UAInF,MAAMO,EAASb,EAAME,OAAOY,QAAQ,cAAgBd,EAAME,OAASF,EAAME,OAAOE,cAAc,eAAiBJ,EAAME,OAAOM,QAAQ,cAChIK,GACFA,EAAOG,gBAAgB,SACxB,IAGH,MAAMC,EAAcC,QAAQC,MAAMC,MAAQ,YAGxCC,aAAaC,QAAQ,uBAAyBD,aAAaC,QAAQ,wBAA0BL,IAC7FM,MAHe,mCAGC,CACdC,QAAS,CACP,eAAgB,qCAElBC,OAAQ,OACRC,KAAM,OACNC,KAAM,IAAIC,gBAAgB,CACxBC,KAAMX,QAAQW,KACdV,MAAOA,MAAMW,MAAMC,MAAQ,GAC3BC,QAASb,MAAMa,SAAW,GAC1BZ,KAAMH,EACNgB,iBAAkBhB,EAClBiB,WAAYpC,SAASM,cAAc,6CAA6C+B,QAAQC,QACxFC,QAASvC,SAASM,cAAc,gDAAgD+B,QAAQG,eAEzFC,MAAMC,IACPA,EAASC,IAAMpB,aAAaqB,QAAQ,qBAAsBzB,EAAY"}